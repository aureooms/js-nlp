<!DOCTYPE html><html lang="en"><head><title>dist/btedist</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="dist/btedist"><meta name="groc-project-path" content="js/src/dist/btedist.js"><meta name="groc-github-url" content="https://github.com/aureooms/js-nlp"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/aureooms/js-nlp/blob/master/js/src/dist/btedist.js">js/src/dist/btedist.js</a></div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> btedist_t = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(kx, ky, kz)</span> {</span>

	<span class="hljs-keyword">var</span> btedist = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a, ai, aj, b, bi, bj, d, di, dj, p, pi)</span> {</span>

			<span class="hljs-keyword">var</span> i, j, m, n, x, y, z, k = <span class="hljs-number">0</span>, pj = pi;

			m = aj - ai;
			n = bj - bi;


			<span class="hljs-keyword">if</span> (m === <span class="hljs-number">0</span>) {
				p.push([]);
				<span class="hljs-keyword">while</span> (n--) p[pi].push(<span class="hljs-number">1</span>);
				<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
			}

			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) {
				p.push([]);
				<span class="hljs-keyword">while</span> (m--) p[pi].push(<span class="hljs-number">0</span>);
				<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
			}

			i = di + m;
			j = dj + n;

			<span class="hljs-keyword">if</span> (d[i][j] === d[i - <span class="hljs-number">1</span>][j] + kx) {
				pj += btedist(a, ai, aj - <span class="hljs-number">1</span>, b, bi, bj, d, di, dj, p, pj);
				k  += pj - pi;
				<span class="hljs-keyword">for</span> (; pi &lt; pj; ++pi) p[pi].push(<span class="hljs-number">0</span>);
			}

			<span class="hljs-keyword">if</span> (d[i][j] === d[i][j - <span class="hljs-number">1</span>] + ky) {
				pj += btedist(a, ai, aj, b, bi, bj - <span class="hljs-number">1</span>, d, di, dj, p, pj);
				k  += pj - pi;
				<span class="hljs-keyword">for</span> (; pi &lt; pj; ++pi) p[pi].push(<span class="hljs-number">1</span>);
			}

			<span class="hljs-keyword">if</span> (d[i][j] === d[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + (a[aj - <span class="hljs-number">1</span>] !== b[bj - <span class="hljs-number">1</span>]) * kz) {
				pj += btedist(a, ai, aj - <span class="hljs-number">1</span>, b, bi, bj - <span class="hljs-number">1</span>, d, di, dj, p, pj);
				k  += pj - pi;
				<span class="hljs-keyword">for</span> (; pi &lt; pj; ++pi) p[pi].push(<span class="hljs-number">2</span>);
			}

			<span class="hljs-keyword">return</span> k;


	};

	<span class="hljs-keyword">return</span> btedist;

};


exports.btedist_t = btedist_t;</div></div></div></div></body></html>